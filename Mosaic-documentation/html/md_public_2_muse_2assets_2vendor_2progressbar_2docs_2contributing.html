<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MojoMosaic™: Contribution documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mojomosaic-bug 150x150.png"/></td>
  <td id="projectalign">
   <div id="projectname">MojoMosaic™<span id="projectnumber">&#160;v01</span>
   </div>
   <div id="projectbrief">Communication and media platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_public_2_muse_2assets_2vendor_2progressbar_2docs_2contributing.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Contribution documentation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md189"></a> Pull requests and contributions are warmly welcome. Please follow existing code style and commit message conventions. Also remember to keep documentation updated.</p>
<p><b>Pull requests:</b> You don't need to bump version numbers or modify anything related to releasing. That stuff is fully automated, just write the functionality.</p>
<h1><a class="anchor" id="autotoc_md190"></a>
Get started with documentation</h1>
<p>Documentation is written in markdown and <a href="https://github.com/mkdocs/mkdocs">mkdocs</a> is used to build documentation site. <a href="https://readthedocs.org/projects/progressbarjs/">ReadTheDocs</a> provides hosting for the documentation site and builds the documentation on each commit.</p>
<p>To locally develop documentation, you need to install mkdocs and requirements specified in pip-requirements.txt. After that you can run <code>mkdocs serve</code>.</p>
<h1><a class="anchor" id="autotoc_md191"></a>
Get started with development</h1>
<ul>
<li>Install local environment.</li>
<li><code>cd local-dev</code> and serve folder to browser</li>
<li>Open another terminal to project root and run <code>grunt watch</code>.</li>
</ul>
<p>Then you can edit <code>src/progressbar.js</code> and changes can be tested in browser. Edit <code>local-dev/main.js</code> to your testing needs.</p>
<p>Shorter way to do local development is running: <code>npm run dev</code>.</p>
<h1><a class="anchor" id="autotoc_md192"></a>
General project stuff</h1>
<p>This package uses npm/node tools just in the developer environment. Grunt is used as a task runner but there's no reason it couldn't be replaced with e.g. Makefile</p>
<p><em>ProgressBar.js</em> depends on tweening library called <a href="https://github.com/jeremyckahn/shifty">shifty</a>. <em>Shifty</em> is bundled inside the scripts in <a href="https://github.com/kimmobrunfeldt/progressbar.js/blob/master/dist">dist/</a> directory. Dependency is bundled in to ease using the library.</p>
<h3><a class="anchor" id="autotoc_md193"></a>
Versioning</h3>
<p>Versioning follows <a href="http://semver.org/">Semantic Versioning 2.0.0</a>. The release script makes sure that for each release, there exists only one commit in history where version number in <em>bower.json</em> matches the release's version. That commit is tagged as the release, for example <code>0.4.1</code>. Commits after that have -dev suffix(<em>0.4.1-dev</em>) in the version number to avoid any possible confusion.</p>
<p>In other words, if you look into <em>bower.json</em>, you can tell if the code base is a released version or not.</p>
<h1><a class="anchor" id="autotoc_md194"></a>
{install-environment} Install environment</h1>
<p>Install tools needed for development: </p><pre class="fragment">npm install
npm install -g watchify
npm install -g browserify
</pre><p> For testing: </p><pre class="fragment">npm install -g mocha
npm install -g testem
</pre><h1><a class="anchor" id="autotoc_md195"></a>
Test</h1>
<p>Tests are written with <a href="http://mochajs.org/">Mocha</a> + <a href="https://github.com/LearnBoost/expect.js/">expect.js</a>. Sometimes the tests fail even though they actually work on the browser. That might be cause of setTimeouts used in tests.</p>
<p>Quickly run tests: </p><pre class="fragment">grunt test
</pre><p> This will use testem to run tests with Chrome. Other options specified below.</p>
<h3><a class="anchor" id="autotoc_md196"></a>
Testem</h3>
<p><a href="https://github.com/airportyh/testem">Testem</a> is used for running tests locally. It is fast and easy to use. List of example commands:</p>
<ul>
<li><code>testem</code> Serves testing page so that you can connect any browser to it.</li>
<li><code>testem ci</code> Runs tests an all available/detected local browsers.</li>
<li><code>testem ci -R dot -l chrome</code> Runs tests with Chrome using dot reported.</li>
</ul>
<h3><a class="anchor" id="autotoc_md197"></a>
Karma</h3>
<p><a href="http://karma-runner.github.io/">Karma</a> is used for running tests to be executed in Sauce Labs. Karma was used because integrating it to Sauce Labs is easier than with Testem.</p>
<p>You must setup <code>SAUCE_USERNAME</code> and <code>SAUCE_ACCESS_KEY</code> environment variables. See <a href="https://github.com/karma-runner/karma-sauce-launcher#username">karma-sauce-launcher project documentation</a>. Browsers used to test are specified in <a href="karma.conf.js">karma.conf.js</a>.</p>
<p>You can run tests with all browsers: </p><pre class="fragment">grunt karma
</pre><p> Tests are run sequentially in batches of browsers to prevent timeouts in Sauce Labs. You can also run single set of browsers to see test results faster: </p><pre class="fragment">grunt karma:sauce0
</pre><h1><a class="anchor" id="autotoc_md198"></a>
Release</h1>
<p><b>Before releasing, make sure there are no uncommitted files, tests pass and jshint gives no errors.</b></p>
<p>Creating a new release of the package is simple:</p>
<ol type="1">
<li>Commit and push all changes</li>
<li>Run local tests and linters with <code>npm test</code></li>
<li>Make sure Sauce Labs tests pass</li>
<li><p class="startli">Run <code>grunt release</code>, which will create new tag and publish code to GitHub</p>
<p class="startli">Bower detects your new version of git tag.</p>
</li>
<li>Edit GitHub release notes</li>
</ol>
<p>By default, patch release is done. You can specify the version bump as a parameter: </p><pre class="fragment">grunt release:major
</pre><p> Valid version bump values: <code>major</code>, <code>minor</code>, <code>patch</code>.</p>
<h1><a class="anchor" id="autotoc_md199"></a>
Decision log</h1>
<ul>
<li>Animate SVG paths with CSS3 transitions to make animations smooth.</li>
<li>API must provide built-in shapes and a way to use totally custom SVG.</li>
<li>Document manually. More overhead and risk of out dated information but easier to get started and contribute with pull requests.</li>
<li>Animate paths with JS because IE does not support CSS transitions for SVG properties. This also allows animation customizations and possible even using different easings per animation(in future).</li>
<li>Expose ProgressBar so it can be used with basic module loaders or as a global.</li>
<li>Bundle shifty inside the final distributable instead of requiring users to install both libs. If someone has already included shifty, then a custom build should be made.</li>
<li>Ship distributables to Bower. Fully automate releasing.</li>
<li>Ship distributables also to NPM to ease life of Browserify users.</li>
<li>Delegate shifty dependency handling to NPM instead of keeping it in repository but still bundle it inside the final distributable.</li>
<li>Automate tests so that testing is locally fast and CI runs tests with more browsers in Sauce Labs</li>
<li>Because of introducing text attribute, the library must modify CSS also. Provide user an option to make CSS them selves.</li>
<li>Keep <b>master</b> branch as a release branch so that new users can see the documentation for latest release instead of development version.</li>
<li>Add some tasks to package.json aside with grunt tasks. I would want to move from Grunt to npm scripts totally but Sauce Labs tests are run with grunt. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
