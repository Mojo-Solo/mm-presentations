\doxysection{get\+ID3\+\_\+cached\+\_\+mysql Class Reference}
\hypertarget{classget_i_d3__cached__mysql}{}\label{classget_i_d3__cached__mysql}\index{getID3\_cached\_mysql@{getID3\_cached\_mysql}}


\doxylink{classget_i_d3}{get\+ID3()} by James Heinrich \href{mailto:info@getid3.org}{\texttt{ info@getid3.\+org}} //  




Inheritance diagram for get\+ID3\+\_\+cached\+\_\+mysql\+:
% FIG 0


Collaboration diagram for get\+ID3\+\_\+cached\+\_\+mysql\+:
% FIG 1
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classget_i_d3__cached__mysql_a5a7f2b12a9c55d0fea96c548266a4ed9}{\+\_\+\+\_\+construct}} (\$host, \$database, \$username, \$password, \$table=\textquotesingle{}getid3\+\_\+cache\textquotesingle{})
\item 
\mbox{\hyperlink{classget_i_d3__cached__mysql_a22acb24e2a441a5169e5a74dc9e0bde2}{clear\+\_\+cache}} ()
\item 
\mbox{\hyperlink{classget_i_d3__cached__mysql_a25e3b6d89711242903be9587929b9c91}{analyze}} (\$filename, \$filesize=null, \$original\+\_\+filename=\textquotesingle{}\textquotesingle{}, \$fp=null)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classget_i_d3}{get\+ID3}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classget_i_d3_a6080dae0886626b9a4cedb29240708b1}{version}} ()
\item 
\mbox{\hyperlink{classget_i_d3_ab4f06f749cd1c6966496c8828dc67322}{fread\+\_\+buffer\+\_\+size}} ()
\item 
\mbox{\hyperlink{classget_i_d3_a93cb6f887110134492e24a08e2a2cdf1}{set\+Option}} (\$opt\+Array)
\item 
\mbox{\hyperlink{classget_i_d3_a70a131d4e58fcd9cbd6756590e901057}{openfile}} (\$filename, \$filesize=null, \$fp=null)
\item 
\mbox{\hyperlink{classget_i_d3_aaa193b0c1c2b93841472b26e2e281751}{error}} (\$message)
\item 
\mbox{\hyperlink{classget_i_d3_ae005667f1ec6a4131a00a165d7ad1c35}{warning}} (\$message)
\item 
\mbox{\hyperlink{classget_i_d3_af06b878d37e6cb21e41205f0cf4d6cbf}{Get\+File\+Format\+Array}} ()
\item 
\mbox{\hyperlink{classget_i_d3_a4d5782226f503069e4396806fa77b855}{Get\+File\+Format}} (\&\$filedata, \$filename=\textquotesingle{}\textquotesingle{})
\item 
\mbox{\hyperlink{classget_i_d3_ad1100c082757fa7b3863c743c2d063eb}{Char\+Convert}} (\&\$array, \$encoding)
\item 
\mbox{\hyperlink{classget_i_d3_a47739fe5f7874d528c34ae0c71c21f1a}{Handle\+All\+Tags}} ()
\item 
\mbox{\hyperlink{classget_i_d3_aab2c6041b46db7ffebe3a2adb313b8e3}{Copy\+Tags\+To\+Comments}} (\&\$This\+File\+Info)
\item 
\mbox{\hyperlink{classget_i_d3_ad7e1f13fe2853482b436b84eddb3e0bd}{get\+Hashdata}} (\$algorithm)
\item 
{\bfseries Channels\+Bitrate\+Playtime\+Calculations} ()
\item 
\mbox{\hyperlink{classget_i_d3_a6702e7bed57423891ee316b6e846add7}{Calculate\+Compression\+Ratio\+Video}} ()
\item 
\mbox{\hyperlink{classget_i_d3_af75308bb325d65f94d3cd974ad3626b9}{Calculate\+Compression\+Ratio\+Audio}} ()
\item 
\mbox{\hyperlink{classget_i_d3_a492785a4d98d918ae5efcfb0963d97ee}{Calculate\+Replay\+Gain}} ()
\item 
\mbox{\hyperlink{classget_i_d3_ad4e7f395c5d1069bd5267cb3769ab236}{Process\+Audio\+Streams}} ()
\item 
\mbox{\hyperlink{classget_i_d3_acce0339fe7a2831fe6b913b737ea7abb}{getid3\+\_\+tempnam}} ()
\item 
\mbox{\hyperlink{classget_i_d3_a044238059364607f43ed2573ab882113}{include\+\_\+module}} (\$name)
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classget_i_d3}{get\+ID3}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classget_i_d3_a023c77e5803a495979804f63d7799d28}{is\+\_\+writable}} (\$filename)
\end{DoxyCompactItemize}
\doxysubsection*{Data Fields inherited from \mbox{\hyperlink{classget_i_d3}{get\+ID3}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries \$encoding} = \textquotesingle{}UTF-\/8\textquotesingle{}
\item 
{\bfseries \$encoding\+\_\+id3v1} = \textquotesingle{}ISO-\/8859-\/1\textquotesingle{}
\item 
{\bfseries \$encoding\+\_\+id3v1\+\_\+autodetect} = false
\item 
{\bfseries \$option\+\_\+tag\+\_\+id3v1} = true
\item 
{\bfseries \$option\+\_\+tag\+\_\+id3v2} = true
\item 
{\bfseries \$option\+\_\+tag\+\_\+lyrics3} = true
\item 
{\bfseries \$option\+\_\+tag\+\_\+apetag} = true
\item 
{\bfseries \$option\+\_\+tags\+\_\+process} = true
\item 
{\bfseries \$option\+\_\+tags\+\_\+html} = true
\item 
{\bfseries \$option\+\_\+extra\+\_\+info} = true
\item 
{\bfseries \$option\+\_\+save\+\_\+attachments} = true
\item 
{\bfseries \$option\+\_\+md5\+\_\+data} = false
\item 
{\bfseries \$option\+\_\+md5\+\_\+data\+\_\+source} = false
\item 
{\bfseries \$option\+\_\+sha1\+\_\+data} = false
\item 
{\bfseries \$option\+\_\+max\+\_\+2gb\+\_\+check}
\item 
{\bfseries \$option\+\_\+fread\+\_\+buffer\+\_\+size} = 32768
\item 
{\bfseries \$options\+\_\+archive\+\_\+rar\+\_\+use\+\_\+php\+\_\+rar\+\_\+extension} = true
\item 
{\bfseries \$options\+\_\+archive\+\_\+gzip\+\_\+parse\+\_\+contents} = false
\item 
{\bfseries \$options\+\_\+audio\+\_\+midi\+\_\+scanwholefile} = true
\item 
{\bfseries \$options\+\_\+audio\+\_\+mp3\+\_\+allow\+\_\+bruteforce} = false
\item 
{\bfseries \$options\+\_\+audio\+\_\+mp3\+\_\+mp3\+\_\+valid\+\_\+check\+\_\+frames} = 50
\item 
{\bfseries \$options\+\_\+audio\+\_\+wavpack\+\_\+quick\+\_\+parsing} = false
\item 
{\bfseries \$options\+\_\+audiovideo\+\_\+flv\+\_\+max\+\_\+frames} = 100000
\item 
{\bfseries \$options\+\_\+audiovideo\+\_\+matroska\+\_\+hide\+\_\+clusters} = true
\item 
{\bfseries \$options\+\_\+audiovideo\+\_\+matroska\+\_\+parse\+\_\+whole\+\_\+file} = false
\item 
{\bfseries \$options\+\_\+audiovideo\+\_\+quicktime\+\_\+\+Return\+Atom\+Data} = true
\item 
{\bfseries \$options\+\_\+audiovideo\+\_\+quicktime\+\_\+\+Parse\+All\+Possible\+Atoms} = false
\item 
{\bfseries \$options\+\_\+audiovideo\+\_\+swf\+\_\+\+Return\+All\+Tag\+Data} = false
\item 
{\bfseries \$options\+\_\+graphic\+\_\+bmp\+\_\+\+Extract\+Palette} = false
\item 
{\bfseries \$options\+\_\+graphic\+\_\+bmp\+\_\+\+Extract\+Data} = false
\item 
{\bfseries \$options\+\_\+graphic\+\_\+png\+\_\+max\+\_\+data\+\_\+bytes} = 10000000
\item 
{\bfseries \$options\+\_\+misc\+\_\+pdf\+\_\+return\+XREF} = false
\item 
{\bfseries \$options\+\_\+misc\+\_\+torrent\+\_\+max\+\_\+torrent\+\_\+filesize} = 1048576
\item 
{\bfseries \$filename}
\item 
{\bfseries \$fp}
\item 
{\bfseries \$info}
\item 
{\bfseries \$tempdir} = GETID3\+\_\+\+TEMP\+\_\+\+DIR
\item 
{\bfseries \$memory\+\_\+limit} = 0
\item 
const {\bfseries VERSION} = \textquotesingle{}1.\+9.\+20-\/202107011615\textquotesingle{}
\item 
const {\bfseries FREAD\+\_\+\+BUFFER\+\_\+\+SIZE} = 32768
\item 
const {\bfseries ATTACHMENTS\+\_\+\+NONE} = false
\item 
const {\bfseries ATTACHMENTS\+\_\+\+INLINE} = true
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classget_i_d3}{get\+ID3}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries \$startup\+\_\+error} = \textquotesingle{}\textquotesingle{}
\item 
{\bfseries \$startup\+\_\+warning} = \textquotesingle{}\textquotesingle{}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{classget_i_d3}{get\+ID3()} by James Heinrich \href{mailto:info@getid3.org}{\texttt{ info@getid3.\+org}} // 

This is a caching extension for \doxylink{classget_i_d3}{get\+ID3()}. It works the exact same way as the \doxylink{classget_i_d3}{get\+ID3} class, but return cached information very fast

Example\+: (see also demo.\+cache.\+mysql.\+php in /demo/)

Normal \doxylink{classget_i_d3}{get\+ID3} usage (example)\+:

require\+\_\+once \textquotesingle{}getid3/getid3.\+php\textquotesingle{}; \$get\+ID3 = new \doxylink{classget_i_d3}{get\+ID3}; \$get\+ID3-\/\texorpdfstring{$>$}{>}encoding = \textquotesingle{}UTF-\/8\textquotesingle{}; \$info1 = \$get\+ID3-\/\texorpdfstring{$>$}{>}analyze(\textquotesingle{}file1.\+flac\textquotesingle{}); \$info2 = \$get\+ID3-\/\texorpdfstring{$>$}{>}analyze(\textquotesingle{}file2.\+wv\textquotesingle{});

get\+ID3\+\_\+cached usage\+:

require\+\_\+once \textquotesingle{}getid3/getid3.\+php\textquotesingle{}; require\+\_\+once \textquotesingle{}getid3/getid3/extension.\+cache.\+mysql.\+php\textquotesingle{}; // 5th parameter (tablename) is optional, default is \textquotesingle{}getid3\+\_\+cache\textquotesingle{} \$get\+ID3 = new \doxylink{classget_i_d3__cached__mysql}{get\+ID3\+\_\+cached\+\_\+mysql}(\textquotesingle{}localhost\textquotesingle{}, \textquotesingle{}database\textquotesingle{}, \textquotesingle{}username\textquotesingle{}, \textquotesingle{}password\textquotesingle{}, \textquotesingle{}tablename\textquotesingle{}); \$get\+ID3-\/\texorpdfstring{$>$}{>}encoding = \textquotesingle{}UTF-\/8\textquotesingle{}; \$info1 = \$get\+ID3-\/\texorpdfstring{$>$}{>}analyze(\textquotesingle{}file1.\+flac\textquotesingle{}); \$info2 = \$get\+ID3-\/\texorpdfstring{$>$}{>}analyze(\textquotesingle{}file2.\+wv\textquotesingle{});

Supported Cache Types (this extension)

SQL Databases\+:\hypertarget{classget_i_d3__cached__mysql_autotoc_md2}{}\doxysubsubsection{\texorpdfstring{cache\+\_\+type cache\+\_\+options}{cache\+\_\+type cache\+\_\+options}}\label{classget_i_d3__cached__mysql_autotoc_md2}
mysql host, database, username, password

DBM-\/\+Style Databases\+: (use extension.\+cache.\+dbm)\hypertarget{classget_i_d3__cached__mysql_autotoc_md3}{}\doxysubsubsection{\texorpdfstring{cache\+\_\+type cache\+\_\+options}{cache\+\_\+type cache\+\_\+options}}\label{classget_i_d3__cached__mysql_autotoc_md3}
gdbm dbm\+\_\+filename, lock\+\_\+filename ndbm dbm\+\_\+filename, lock\+\_\+filename db2 dbm\+\_\+filename, lock\+\_\+filename db3 dbm\+\_\+filename, lock\+\_\+filename db4 dbm\+\_\+filename, lock\+\_\+filename (PHP5 required)

PHP must have write access to both dbm\+\_\+filename and lock\+\_\+filename.

Recommended Cache Types

Infrequent updates, many reads any DBM Frequent updates mysql 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classget_i_d3__cached__mysql_a5a7f2b12a9c55d0fea96c548266a4ed9}\index{getID3\_cached\_mysql@{getID3\_cached\_mysql}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!getID3\_cached\_mysql@{getID3\_cached\_mysql}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily \label{classget_i_d3__cached__mysql_a5a7f2b12a9c55d0fea96c548266a4ed9} 
\+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{}]{\$host}{, }\item[{}]{\$database}{, }\item[{}]{\$username}{, }\item[{}]{\$password}{, }\item[{}]{\$table}{ = {\ttfamily \textquotesingle{}getid3\+\_\+cache\textquotesingle{}}}\end{DoxyParamCaption})}

constructor -\/ see top of this file for cache type and cache\+\_\+options


\begin{DoxyParams}[1]{Parameters}
string & {\em \$host} & \\
\hline
string & {\em \$database} & \\
\hline
string & {\em \$username} & \\
\hline
string & {\em \$password} & \\
\hline
string & {\em \$table} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & \\
\hline
{\em \doxylink{classgetid3__exception}{getid3\+\_\+exception}} & \\
\hline
\end{DoxyExceptions}


\doxysubsection{Member Function Documentation}
\Hypertarget{classget_i_d3__cached__mysql_a25e3b6d89711242903be9587929b9c91}\index{getID3\_cached\_mysql@{getID3\_cached\_mysql}!analyze@{analyze}}
\index{analyze@{analyze}!getID3\_cached\_mysql@{getID3\_cached\_mysql}}
\doxysubsubsection{\texorpdfstring{analyze()}{analyze()}}
{\footnotesize\ttfamily \label{classget_i_d3__cached__mysql_a25e3b6d89711242903be9587929b9c91} 
analyze (\begin{DoxyParamCaption}\item[{}]{\$filename}{, }\item[{}]{\$filesize}{ = {\ttfamily null}, }\item[{}]{\$original\+\_\+filename}{ = {\ttfamily \textquotesingle{}\textquotesingle{}}, }\item[{}]{\$fp}{ = {\ttfamily null}}\end{DoxyParamCaption})}

analyze file


\begin{DoxyParams}[1]{Parameters}
string & {\em \$filename} & \\
\hline
int & {\em \$filesize} & \\
\hline
string & {\em \$original\+\_\+filename} & \\
\hline
resource & {\em \$fp} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classget_i_d3_a25e3b6d89711242903be9587929b9c91}{get\+ID3}}.

\Hypertarget{classget_i_d3__cached__mysql_a22acb24e2a441a5169e5a74dc9e0bde2}\index{getID3\_cached\_mysql@{getID3\_cached\_mysql}!clear\_cache@{clear\_cache}}
\index{clear\_cache@{clear\_cache}!getID3\_cached\_mysql@{getID3\_cached\_mysql}}
\doxysubsubsection{\texorpdfstring{clear\_cache()}{clear\_cache()}}
{\footnotesize\ttfamily \label{classget_i_d3__cached__mysql_a22acb24e2a441a5169e5a74dc9e0bde2} 
clear\+\_\+cache (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

clear cache 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
app/\+Services/\+Libraries/get\+ID3/getid3/extension.\+cache.\+mysql.\+php\end{DoxyCompactItemize}
